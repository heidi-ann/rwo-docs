<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Bigstring_marshal.html">
<link rel="next" href="Bigsubstring.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Array_permute" rel="Chapter" href="Array_permute.html">
<link title="Avltree" rel="Chapter" href="Avltree.html">
<link title="Bag" rel="Chapter" href="Bag.html">
<link title="Bigbuffer_internal" rel="Chapter" href="Bigbuffer_internal.html">
<link title="Bigbuffer" rel="Chapter" href="Bigbuffer.html">
<link title="Bigstring_marshal" rel="Chapter" href="Bigstring_marshal.html">
<link title="Bigstring" rel="Chapter" href="Bigstring.html">
<link title="Bigsubstring" rel="Chapter" href="Bigsubstring.html">
<link title="Binable0" rel="Chapter" href="Binable0.html">
<link title="Binable" rel="Chapter" href="Binable.html">
<link title="Binary_packing" rel="Chapter" href="Binary_packing.html">
<link title="Blang" rel="Chapter" href="Blang.html">
<link title="Blit" rel="Chapter" href="Blit.html">
<link title="Blit_intf" rel="Chapter" href="Blit_intf.html">
<link title="Bool" rel="Chapter" href="Bool.html">
<link title="Bounded_int_table" rel="Chapter" href="Bounded_int_table.html">
<link title="Bucket" rel="Chapter" href="Bucket.html">
<link title="Byte_units" rel="Chapter" href="Byte_units.html">
<link title="Caml" rel="Chapter" href="Caml.html">
<link title="Common" rel="Chapter" href="Common.html">
<link title="Commutative_group" rel="Chapter" href="Commutative_group.html">
<link title="Comparable_intf" rel="Chapter" href="Comparable_intf.html">
<link title="Comparable" rel="Chapter" href="Comparable.html">
<link title="Comparator" rel="Chapter" href="Comparator.html">
<link title="Constrained_float" rel="Chapter" href="Constrained_float.html">
<link title="Container" rel="Chapter" href="Container.html">
<link title="Container_unit_tests" rel="Chapter" href="Container_unit_tests.html">
<link title="Core_arg" rel="Chapter" href="Core_arg.html">
<link title="Core_array" rel="Chapter" href="Core_array.html">
<link title="Core_bin_prot" rel="Chapter" href="Core_bin_prot.html">
<link title="Core_char" rel="Chapter" href="Core_char.html">
<link title="Core_field" rel="Chapter" href="Core_field.html">
<link title="Core_gc" rel="Chapter" href="Core_gc.html">
<link title="Core_hashtbl_intf" rel="Chapter" href="Core_hashtbl_intf.html">
<link title="Core_hashtbl" rel="Chapter" href="Core_hashtbl.html">
<link title="Core_int32" rel="Chapter" href="Core_int32.html">
<link title="Core_int63" rel="Chapter" href="Core_int63.html">
<link title="Core_int64" rel="Chapter" href="Core_int64.html">
<link title="Core_int" rel="Chapter" href="Core_int.html">
<link title="Core_lazy" rel="Chapter" href="Core_lazy.html">
<link title="Core_list" rel="Chapter" href="Core_list.html">
<link title="Core_map_intf" rel="Chapter" href="Core_map_intf.html">
<link title="Core_map" rel="Chapter" href="Core_map.html">
<link title="Core_map_unit_tests" rel="Chapter" href="Core_map_unit_tests.html">
<link title="Core_nativeint" rel="Chapter" href="Core_nativeint.html">
<link title="Core_printexc" rel="Chapter" href="Core_printexc.html">
<link title="Core_printf" rel="Chapter" href="Core_printf.html">
<link title="Core_queue" rel="Chapter" href="Core_queue.html">
<link title="Core_random" rel="Chapter" href="Core_random.html">
<link title="Core_set_intf" rel="Chapter" href="Core_set_intf.html">
<link title="Core_set" rel="Chapter" href="Core_set.html">
<link title="Core_set_unit_tests" rel="Chapter" href="Core_set_unit_tests.html">
<link title="Core_sexp" rel="Chapter" href="Core_sexp.html">
<link title="Core_stack" rel="Chapter" href="Core_stack.html">
<link title="Core_string" rel="Chapter" href="Core_string.html">
<link title="Core_weak" rel="Chapter" href="Core_weak.html">
<link title="Day_of_week" rel="Chapter" href="Day_of_week.html">
<link title="Dequeue" rel="Chapter" href="Dequeue.html">
<link title="Doubly_linked" rel="Chapter" href="Doubly_linked.html">
<link title="Equal" rel="Chapter" href="Equal.html">
<link title="Error" rel="Chapter" href="Error.html">
<link title="Exn" rel="Chapter" href="Exn.html">
<link title="Flags_intf" rel="Chapter" href="Flags_intf.html">
<link title="Flags" rel="Chapter" href="Flags.html">
<link title="Flat_array" rel="Chapter" href="Flat_array.html">
<link title="Flat_array_debug" rel="Chapter" href="Flat_array_debug.html">
<link title="Flat_array_unit_tests" rel="Chapter" href="Flat_array_unit_tests.html">
<link title="Floatable" rel="Chapter" href="Floatable.html">
<link title="Float_intf" rel="Chapter" href="Float_intf.html">
<link title="Float" rel="Chapter" href="Float.html">
<link title="Float_robust_compare" rel="Chapter" href="Float_robust_compare.html">
<link title="Fn" rel="Chapter" href="Fn.html">
<link title="Force_once" rel="Chapter" href="Force_once.html">
<link title="Fqueue" rel="Chapter" href="Fqueue.html">
<link title="Hashable" rel="Chapter" href="Hashable.html">
<link title="Hash_heap" rel="Chapter" href="Hash_heap.html">
<link title="Hash_queue" rel="Chapter" href="Hash_queue.html">
<link title="Hash_set_intf" rel="Chapter" href="Hash_set_intf.html">
<link title="Hash_set" rel="Chapter" href="Hash_set.html">
<link title="Hashtbl_unit_tests" rel="Chapter" href="Hashtbl_unit_tests.html">
<link title="Heap_block" rel="Chapter" href="Heap_block.html">
<link title="Heap" rel="Chapter" href="Heap.html">
<link title="Host_and_port" rel="Chapter" href="Host_and_port.html">
<link title="Identifiable" rel="Chapter" href="Identifiable.html">
<link title="Import" rel="Chapter" href="Import.html">
<link title="In_channel" rel="Chapter" href="In_channel.html">
<link title="Info" rel="Chapter" href="Info.html">
<link title="Intable" rel="Chapter" href="Intable.html">
<link title="Int_conversions" rel="Chapter" href="Int_conversions.html">
<link title="Interfaces" rel="Chapter" href="Interfaces.html">
<link title="Interned_string" rel="Chapter" href="Interned_string.html">
<link title="Int_intf" rel="Chapter" href="Int_intf.html">
<link title="Int_math" rel="Chapter" href="Int_math.html">
<link title="Int_replace_polymorphic_compare" rel="Chapter" href="Int_replace_polymorphic_compare.html">
<link title="Int_set" rel="Chapter" href="Int_set.html">
<link title="Invariant" rel="Chapter" href="Invariant.html">
<link title="Invariant_intf" rel="Chapter" href="Invariant_intf.html">
<link title="Linked_stack" rel="Chapter" href="Linked_stack.html">
<link title="Make_substring" rel="Chapter" href="Make_substring.html">
<link title="Memo" rel="Chapter" href="Memo.html">
<link title="Monad" rel="Chapter" href="Monad.html">
<link title="Month" rel="Chapter" href="Month.html">
<link title="Never_returns" rel="Chapter" href="Never_returns.html">
<link title="No_polymorphic_compare" rel="Chapter" href="No_polymorphic_compare.html">
<link title="Nothing0" rel="Chapter" href="Nothing0.html">
<link title="Nothing" rel="Chapter" href="Nothing.html">
<link title="Obj_array" rel="Chapter" href="Obj_array.html">
<link title="Only_in_test" rel="Chapter" href="Only_in_test.html">
<link title="Option" rel="Chapter" href="Option.html">
<link title="Ordered_collection_common" rel="Chapter" href="Ordered_collection_common.html">
<link title="Ordering" rel="Chapter" href="Ordering.html">
<link title="Or_error" rel="Chapter" href="Or_error.html">
<link title="Out_channel" rel="Chapter" href="Out_channel.html">
<link title="Pid" rel="Chapter" href="Pid.html">
<link title="Polymorphic_compare_intf" rel="Chapter" href="Polymorphic_compare_intf.html">
<link title="Polymorphic_compare" rel="Chapter" href="Polymorphic_compare.html">
<link title="Pool" rel="Chapter" href="Pool.html">
<link title="Pool_intf" rel="Chapter" href="Pool_intf.html">
<link title="Pool_unit_tests" rel="Chapter" href="Pool_unit_tests.html">
<link title="Pooled_hashtbl" rel="Chapter" href="Pooled_hashtbl.html">
<link title="Pooled_hashtbl_unit_test" rel="Chapter" href="Pooled_hashtbl_unit_test.html">
<link title="Pretty_printer" rel="Chapter" href="Pretty_printer.html">
<link title="Quickcheck" rel="Chapter" href="Quickcheck.html">
<link title="Ref" rel="Chapter" href="Ref.html">
<link title="Result" rel="Chapter" href="Result.html">
<link title="Robustly_comparable" rel="Chapter" href="Robustly_comparable.html">
<link title="Set_once" rel="Chapter" href="Set_once.html">
<link title="Sexpable" rel="Chapter" href="Sexpable.html">
<link title="Source_code_position0" rel="Chapter" href="Source_code_position0.html">
<link title="Source_code_position" rel="Chapter" href="Source_code_position.html">
<link title="Stable_containers" rel="Chapter" href="Stable_containers.html">
<link title="Stable_internal" rel="Chapter" href="Stable_internal.html">
<link title="Stable" rel="Chapter" href="Stable.html">
<link title="Stable_unit_test_intf" rel="Chapter" href="Stable_unit_test_intf.html">
<link title="Stable_unit_test" rel="Chapter" href="Stable_unit_test.html">
<link title="Stack_intf" rel="Chapter" href="Stack_intf.html">
<link title="Stack_unit_tests" rel="Chapter" href="Stack_unit_tests.html">
<link title="Staged" rel="Chapter" href="Staged.html">
<link title="Std_common" rel="Chapter" href="Std_common.html">
<link title="Std_internal" rel="Chapter" href="Std_internal.html">
<link title="Std_kernel" rel="Chapter" href="Std_kernel.html">
<link title="Std" rel="Chapter" href="Std.html">
<link title="Stringable" rel="Chapter" href="Stringable.html">
<link title="String_id" rel="Chapter" href="String_id.html">
<link title="Substring_intf" rel="Chapter" href="Substring_intf.html">
<link title="Substring" rel="Chapter" href="Substring.html">
<link title="Thread_safe_queue" rel="Chapter" href="Thread_safe_queue.html">
<link title="T" rel="Chapter" href="T.html">
<link title="Tuple" rel="Chapter" href="Tuple.html">
<link title="Tuple_type" rel="Chapter" href="Tuple_type.html">
<link title="Tuple_type_intf" rel="Chapter" href="Tuple_type_intf.html">
<link title="Type_equal" rel="Chapter" href="Type_equal.html">
<link title="Union_find" rel="Chapter" href="Union_find.html">
<link title="Unique_id_intf" rel="Chapter" href="Unique_id_intf.html">
<link title="Unique_id" rel="Chapter" href="Unique_id.html">
<link title="Unit" rel="Chapter" href="Unit.html">
<link title="Univ_map" rel="Chapter" href="Univ_map.html">
<link title="Univ" rel="Chapter" href="Univ.html">
<link title="Unpack_buffer" rel="Chapter" href="Unpack_buffer.html">
<link title="Validated_intf" rel="Chapter" href="Validated_intf.html">
<link title="Validated" rel="Chapter" href="Validated.html">
<link title="Validate" rel="Chapter" href="Validate.html">
<link title="With_return" rel="Chapter" href="With_return.html">
<link title="Word_size" rel="Chapter" href="Word_size.html"><link title="Types and exceptions" rel="Section" href="#6_Typesandexceptions">
<link title="Creation and string conversion" rel="Section" href="#6_Creationandstringconversion">
<link title="Checking" rel="Section" href="#6_Checking">
<link title="Accessors" rel="Section" href="#6_Accessors">
<link title="Blitting" rel="Section" href="#6_Blitting">
<link title="Memory mapping" rel="Section" href="#6_Memorymapping">
<link title="Search" rel="Section" href="#6_Search">
<link title="Destruction" rel="Section" href="#6_Destruction">
<link title="Creation and string conversion" rel="Section" href="#6_Creationandstringconversion">
<link title="Checking" rel="Section" href="#6_Checking">
<link title="Accessors" rel="Section" href="#6_Accessors">
<link title="Blitting" rel="Section" href="#6_Blitting">
<link title="Memory mapping" rel="Section" href="#6_Memorymapping">
<link title="Search" rel="Section" href="#6_Search">
<link title="Destruction" rel="Section" href="#6_Destruction">
<title>Bigstring</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Bigstring_marshal.html" title="Bigstring_marshal">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Bigsubstring.html" title="Bigsubstring">Next</a>
</div>
<h1>Module <a href="type_Bigstring.html">Bigstring</a></h1>
<pre><span class="keyword">module</span> Bigstring: <code class="code">sig</code> <a href="Bigstring.html">..</a> <code class="code">end</code></pre><div class="info">
String type based on <code class="code">Bigarray</code>, for use in I/O and C-bindings<br>
</div>
<hr width="100%">
<br>
<h6 id="6_Typesandexceptions">Types and exceptions</h6><br>
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">(char, Bigarray.int8_unsigned_elt, Bigarray.c_layout) Bigarray.Array1.t</code> </pre>
<div class="info">
Type of bigstrings<br>
</div>

<br>
<h6 id="6_Creationandstringconversion">Creation and string conversion</h6><br>
<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?max_mem_waiting_gc:<a href="Byte_units.html#TYPEt">Byte_units.t</a> -> int -> <a href="Bigstring.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">create length</code><br>
<b>Returns</b> a new bigstring having <code class="code">length</code>.
    Content is undefined.<br>
</div>
<div class="param_info"><code class="code">max_mem_waiting_gc</code> : default = 256 M in OCaml &lt;= 3.12, 1 G otherwise. As
    the total allocation of calls to <code class="code">create</code> approach <code class="code">max_mem_waiting_gc</code>,
    the pressure in the garbage collector to be more agressive will increase.</div>
<pre><span id="VALinit"><span class="keyword">val</span> init</span> : <code class="type">int -> f:(int -> char) -> <a href="Bigstring.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">init n ~f</code> creates a bigstring <code class="code">t</code> of length <code class="code">n</code>, with <code class="code">t.{i} = f i</code><br>
</div>
<pre><span id="VALof_string"><span class="keyword">val</span> of_string</span> : <code class="type">?pos:int -> ?len:int -> string -> <a href="Bigstring.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">of_string ?pos ?len str</code><br>
<b>Returns</b> a new bigstring that is equivalent
    to the substring of length <code class="code">len</code> in <code class="code">str</code> starting at position <code class="code">pos</code>.<br>
</div>
<div class="param_info"><code class="code">pos</code> : default = 0</div>
<div class="param_info"><code class="code">len</code> : default = <code class="code">String.length str - pos</code></div>
<pre><span id="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type">?pos:int -> ?len:int -> <a href="Bigstring.html#TYPEt">t</a> -> string</code></pre><div class="info">
<code class="code">to_string ?pos ?len bstr</code><br>
<b>Raises</b> <code>Invalid_argument</code> if the string would exceed runtime limits.<br>
<b>Returns</b> a new string that is equivalent
    to the substring of length <code class="code">len</code> in <code class="code">bstr</code> starting at position <code class="code">pos</code>.<br>
</div>
<div class="param_info"><code class="code">pos</code> : default = 0</div>
<div class="param_info"><code class="code">len</code> : default = <code class="code">length bstr - pos</code></div>
<br>
<h6 id="6_Checking">Checking</h6><br>
<pre><span id="VALcheck_args"><span class="keyword">val</span> check_args</span> : <code class="type">loc:string -> pos:int -> len:int -> <a href="Bigstring.html#TYPEt">t</a> -> unit</code></pre><div class="info">
<code class="code">check_args ~loc ~pos ~len bstr</code> checks the position and length
    arguments <code class="code">pos</code> and <code class="code">len</code> for bigstrings <code class="code">bstr</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if these arguments are illegal for the given
    bigstring using <code class="code">loc</code> to indicate the calling context.<br>
</div>
<pre><span id="VALget_opt_len"><span class="keyword">val</span> get_opt_len</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int option -> int</code></pre><div class="info">
<code class="code">get_opt_len bstr ~pos opt_len</code><br>
<b>Returns</b> the length of a subbigstring
    in <code class="code">bstr</code> starting at position <code class="code">pos</code> and given optional length
    <code class="code">opt_len</code>.  This function does not check the validity of its
    arguments.  Use <a href="Bigstring.html#VALcheck_args"><code class="code">Bigstring.check_args</code></a> for that purpose.<br>
</div>
<br>
<h6 id="6_Accessors">Accessors</h6><br>
<pre><span id="VALlength"><span class="keyword">val</span> length</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> int</code></pre><div class="info">
<code class="code">length bstr</code><br>
<b>Returns</b> the length of bigstring <code class="code">bstr</code>.<br>
</div>
<pre><span id="VALsub"><span class="keyword">val</span> sub</span> : <code class="type">(<a href="Bigstring.html#TYPEt">t</a>, <a href="Bigstring.html#TYPEt">t</a>) <a href="Blit_intf.html#TYPEsub">Blit_intf.sub</a></code></pre><div class="info">
<code class="code">sub ?pos ?len bstr</code><br>
<b>Returns</b> the sub-bigstring in <code class="code">bstr</code> that starts at
    position <code class="code">pos</code> and has length <code class="code">len</code>.  The sub-bigstring is a unique copy
    of the memory region, i.e. modifying it will not modify the original
    bigstring.  Note that this is different than the behavior of the
    standard OCaml Array1.sub, which shares the memory.<br>
</div>
<pre><span id="VALsub_shared"><span class="keyword">val</span> sub_shared</span> : <code class="type">?pos:int -> ?len:int -> <a href="Bigstring.html#TYPEt">t</a> -> <a href="Bigstring.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">sub_shared ?pos ?len bstr</code><br>
<b>Returns</b> the sub-bigstring in <code class="code">bstr</code>
    that starts at position <code class="code">pos</code> and has length <code class="code">len</code>.  The sub-bigstring
    shares the same memory region, i.e. modifying it will modify the
    original bigstring.  Holding on to the sub-bigstring will also keep
    the (usually bigger) original one around.<br>
</div>
<div class="param_info"><code class="code">pos</code> : default = 0</div>
<div class="param_info"><code class="code">len</code> : default = <code class="code">Bigstring.length bstr - pos</code></div>
<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> int -> char</code></pre><div class="info">
<code class="code">get t pos</code> returns the character at <code class="code">pos</code><br>
</div>
<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> int -> char -> unit</code></pre><div class="info">
<code class="code">set t pos</code> sets the character at <code class="code">pos</code><br>
</div>
<pre><span id="VALis_mmapped"><span class="keyword">val</span> is_mmapped</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> bool</code></pre><div class="info">
<code class="code">is_mmapped bstr</code><br>
<b>Returns</b> whether the bigstring <code class="code">bstr</code> is
    memory-mapped.<br>
</div>
<br>
<h6 id="6_Blitting">Blitting</h6><br>
<br>
<code class="code">blit ~src ?src_pos ?src_len ~dst ?dst_pos ()</code> blits <code class="code">src_len</code> characters
    from <code class="code">src</code> starting at position <code class="code">src_pos</code> to <code class="code">dst</code> at position <code class="code">dst_pos</code>.<br>
<pre><span class="keyword">include</span> Blit.S</pre>
<pre><span class="keyword">module</span> <a href="Bigstring.To_string.html">To_string</a>: <code class="type">Blit.S_distinct</code><code class="type">  with type src := t</code><code class="type">       with type dst := string</code></pre><pre><span class="keyword">module</span> <a href="Bigstring.From_string.html">From_string</a>: <code class="type">Blit.S_distinct</code><code class="type">  with type src := string</code><code class="type">  with type dst := t</code></pre><br>
<h6 id="6_Memorymapping">Memory mapping</h6><br>
<pre><span id="VALmap_file"><span class="keyword">val</span> map_file</span> : <code class="type">shared:bool -> Unix.file_descr -> int -> <a href="Bigstring.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">map_file shared fd n</code> memory-maps <code class="code">n</code> characters of the data
    associated with descriptor <code class="code">fd</code> to a bigstring.  Iff <code class="code">shared</code> is
    <code class="code">true</code>, all changes to the bigstring will be reflected in the file.<br>
</div>
<br>
<h6 id="6_Search">Search</h6><br>
<pre><span id="VALfind"><span class="keyword">val</span> find</span> : <code class="type">?pos:int -> ?len:int -> char -> <a href="Bigstring.html#TYPEt">t</a> -> int option</code></pre><div class="info">
<code class="code">find ?pos ?len char t</code> returns <code class="code">Some i</code> for the smallest <code class="code">i &gt;= pos</code> such that
    <code class="code">t.{i} = char</code>, or <code class="code">None</code> if there is no such <code class="code">i</code>.<br>
</div>
<div class="param_info"><code class="code">pos</code> : default = 0</div>
<div class="param_info"><code class="code">len</code> : default = <code class="code">length bstr - pos</code></div>
<br>
<h6 id="6_Destruction">Destruction</h6><br>
<pre><span id="VALunsafe_destroy"><span class="keyword">val</span> unsafe_destroy</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> unit</code></pre><div class="info">
<code class="code">unsafe_destroy bstr</code> destroys the bigstring by deallocating its associated data or,
    if memory-mapped, unmapping the corresponding file, and setting all dimensions to
    zero.  This effectively frees the associated memory or address-space resources
    instantaneously.  This feature helps working around a bug in the current OCaml
    runtime, which does not correctly estimate how aggressively to reclaim such resources.
<p>

    This operation is safe unless you have passed the bigstring to another thread that is
    performing operations on it at the same time.  Access to the bigstring after this
    operation will yield array bounds exceptions.<br>
<b>Raises</b> <code>Failure</code> if the bigstring has already been deallocated (or deemed "external",
    which is treated equivalently), or if it has proxies, i.e. other bigstrings referring
    to the same data.<br>
</div>
<pre><span id="VALunsafe_get_int8"><span class="keyword">val</span> unsafe_get_int8</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_int8"><span class="keyword">val</span> unsafe_set_int8</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_uint8"><span class="keyword">val</span> unsafe_get_uint8</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_uint8"><span class="keyword">val</span> unsafe_set_uint8</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_int16_le"><span class="keyword">val</span> unsafe_get_int16_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_get_int16_be"><span class="keyword">val</span> unsafe_get_int16_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_int16_le"><span class="keyword">val</span> unsafe_set_int16_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_set_int16_be"><span class="keyword">val</span> unsafe_set_int16_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_uint16_le"><span class="keyword">val</span> unsafe_get_uint16_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_get_uint16_be"><span class="keyword">val</span> unsafe_get_uint16_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_uint16_le"><span class="keyword">val</span> unsafe_set_uint16_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_set_uint16_be"><span class="keyword">val</span> unsafe_set_uint16_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_int32_le"><span class="keyword">val</span> unsafe_get_int32_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_get_int32_be"><span class="keyword">val</span> unsafe_get_int32_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_int32_le"><span class="keyword">val</span> unsafe_set_int32_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_set_int32_be"><span class="keyword">val</span> unsafe_set_int32_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_uint32_le"><span class="keyword">val</span> unsafe_get_uint32_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_get_uint32_be"><span class="keyword">val</span> unsafe_get_uint32_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_uint32_le"><span class="keyword">val</span> unsafe_set_uint32_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_set_uint32_be"><span class="keyword">val</span> unsafe_set_uint32_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_int64_le_exn"><span class="keyword">val</span> unsafe_get_int64_le_exn</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_get_int64_be_exn"><span class="keyword">val</span> unsafe_get_int64_be_exn</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int</code></pre><pre><span id="VALunsafe_set_int64_le"><span class="keyword">val</span> unsafe_set_int64_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_set_int64_be"><span class="keyword">val</span> unsafe_set_int64_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> int -> unit</code></pre><pre><span id="VALunsafe_get_int32_t_le"><span class="keyword">val</span> unsafe_get_int32_t_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int32.t</code></pre><pre><span id="VALunsafe_get_int32_t_be"><span class="keyword">val</span> unsafe_get_int32_t_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int32.t</code></pre><pre><span id="VALunsafe_set_int32_t_le"><span class="keyword">val</span> unsafe_set_int32_t_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int32.t -> unit</code></pre><pre><span id="VALunsafe_set_int32_t_be"><span class="keyword">val</span> unsafe_set_int32_t_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int32.t -> unit</code></pre><pre><span id="VALunsafe_get_int64_t_le"><span class="keyword">val</span> unsafe_get_int64_t_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int64.t</code></pre><pre><span id="VALunsafe_get_int64_t_be"><span class="keyword">val</span> unsafe_get_int64_t_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int64.t</code></pre><pre><span id="VALunsafe_set_int64_t_le"><span class="keyword">val</span> unsafe_set_int64_t_le</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int64.t -> unit</code></pre><pre><span id="VALunsafe_set_int64_t_be"><span class="keyword">val</span> unsafe_set_int64_t_be</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> pos:int -> Int64.t -> unit</code></pre><pre><span id="VALget_padded_fixed_string"><span class="keyword">val</span> get_padded_fixed_string</span> : <code class="type">padding:char -> <a href="Bigstring.html#TYPEt">t</a> -> pos:int -> len:int -> unit -> string</code></pre><pre><span id="VALset_padded_fixed_string"><span class="keyword">val</span> set_padded_fixed_string</span> : <code class="type">padding:char -> <a href="Bigstring.html#TYPEt">t</a> -> pos:int -> len:int -> string -> unit</code></pre><pre><span id="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type"><a href="../sexplib/Sexp.html">Sexplib.Sexp</a>.t -> <a href="Bigstring.html#TYPEt">t</a></code></pre><pre><span id="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> -> <a href="../sexplib/Sexp.html">Sexplib.Sexp</a>.t</code></pre><pre><span id="VALbin_t"><span class="keyword">val</span> bin_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Type_class.html">Bin_prot.Type_class</a>.t</code></pre><pre><span id="VALbin_read_t"><span class="keyword">val</span> bin_read_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Read_ml.html">Bin_prot.Read_ml</a>.reader</code></pre><pre><span id="VALbin_read_t_"><span class="keyword">val</span> bin_read_t_</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Unsafe_read_c.html">Bin_prot.Unsafe_read_c</a>.reader</code></pre><pre><span id="VALbin_read_t__"><span class="keyword">val</span> bin_read_t__</span> : <code class="type">(int -> <a href="Bigstring.html#TYPEt">t</a>) <a href="../bin_prot/Unsafe_read_c.html">Bin_prot.Unsafe_read_c</a>.reader</code></pre><pre><span id="VALbin_reader_t"><span class="keyword">val</span> bin_reader_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Type_class.html">Bin_prot.Type_class</a>.reader</code></pre><pre><span id="VALbin_size_t"><span class="keyword">val</span> bin_size_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Size.html">Bin_prot.Size</a>.sizer</code></pre><pre><span id="VALbin_write_t"><span class="keyword">val</span> bin_write_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Write_ml.html">Bin_prot.Write_ml</a>.writer</code></pre><pre><span id="VALbin_write_t_"><span class="keyword">val</span> bin_write_t_</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Unsafe_write_c.html">Bin_prot.Unsafe_write_c</a>.writer</code></pre><pre><span id="VALbin_writer_t"><span class="keyword">val</span> bin_writer_t</span> : <code class="type"><a href="Bigstring.html#TYPEt">t</a> <a href="../bin_prot/Type_class.html">Bin_prot.Type_class</a>.writer</code></pre><br>
<h6 id="6_Creationandstringconversion">Creation and string conversion</h6><br>
<br>
<code class="code">create length</code><br>
<br>
<code class="code">init n ~f</code> creates a bigstring <code class="code">t</code> of length <code class="code">n</code>, with <code class="code">t.{i} = f i</code><br>
<br>
<code class="code">of_string ?pos ?len str</code><br>
<br>
<code class="code">to_string ?pos ?len bstr</code><br>
<br>
<h6 id="6_Checking">Checking</h6><br>
<br>
<code class="code">check_args ~loc ~pos ~len bstr</code> checks the position and length
    arguments <code class="code">pos</code> and <code class="code">len</code> for bigstrings <code class="code">bstr</code>.<br>
<br>
<code class="code">get_opt_len bstr ~pos opt_len</code><br>
<br>
<h6 id="6_Accessors">Accessors</h6><br>
<br>
<code class="code">length bstr</code><br>
<br>
<code class="code">sub ?pos ?len bstr</code><br>
<br>
<code class="code">sub_shared ?pos ?len bstr</code><br>
<br>
<code class="code">get t pos</code> returns the character at <code class="code">pos</code><br>
<br>
<code class="code">set t pos</code> sets the character at <code class="code">pos</code><br>
<br>
<code class="code">is_mmapped bstr</code><br>
<br>
<h6 id="6_Blitting">Blitting</h6><br>
<br>
<code class="code">blit ~src ?src_pos ?src_len ~dst ?dst_pos ()</code> blits <code class="code">src_len</code> characters
    from <code class="code">src</code> starting at position <code class="code">src_pos</code> to <code class="code">dst</code> at position <code class="code">dst_pos</code>.<br>
<br>
<h6 id="6_Memorymapping">Memory mapping</h6><br>
<br>
<code class="code">map_file shared fd n</code> memory-maps <code class="code">n</code> characters of the data
    associated with descriptor <code class="code">fd</code> to a bigstring.  Iff <code class="code">shared</code> is
    <code class="code">true</code>, all changes to the bigstring will be reflected in the file.<br>
<br>
<h6 id="6_Search">Search</h6><br>
<br>
<code class="code">find ?pos ?len char t</code> returns <code class="code">Some i</code> for the smallest <code class="code">i &gt;= pos</code> such that
    <code class="code">t.{i} = char</code>, or <code class="code">None</code> if there is no such <code class="code">i</code>.<br>
<br>
<h6 id="6_Destruction">Destruction</h6><br>
<br>
<code class="code">unsafe_destroy bstr</code> destroys the bigstring by deallocating its associated data or,
    if memory-mapped, unmapping the corresponding file, and setting all dimensions to
    zero.  This effectively frees the associated memory or address-space resources
    instantaneously.  This feature helps working around a bug in the current OCaml
    runtime, which does not correctly estimate how aggressively to reclaim such resources.
<p>

    This operation is safe unless you have passed the bigstring to another thread that is
    performing operations on it at the same time.  Access to the bigstring after this
    operation will yield array bounds exceptions.<br>
</body></html>