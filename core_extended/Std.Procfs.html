<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Std.Process.html">
<link rel="next" href="Std.Prod_or_test.html">
<link rel="Up" href="Std.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Alternating_primary_backup_assignment" rel="Chapter" href="Alternating_primary_backup_assignment.html">
<link title="Atomic_edit" rel="Chapter" href="Atomic_edit.html">
<link title="Bin_io_utils" rel="Chapter" href="Bin_io_utils.html">
<link title="Bitarray" rel="Chapter" href="Bitarray.html">
<link title="Cache" rel="Chapter" href="Cache.html">
<link title="Cbuffer" rel="Chapter" href="Cbuffer.html">
<link title="Color_print" rel="Chapter" href="Color_print.html">
<link title="Crit_bit" rel="Chapter" href="Crit_bit.html">
<link title="Csv_writer" rel="Chapter" href="Csv_writer.html">
<link title="Deprecated_bench" rel="Chapter" href="Deprecated_bench.html">
<link title="Deprecated_command" rel="Chapter" href="Deprecated_command.html">
<link title="Deprecated_fcommand" rel="Chapter" href="Deprecated_fcommand.html">
<link title="Deprecated_service_command" rel="Chapter" href="Deprecated_service_command.html">
<link title="Documented_match_statement" rel="Chapter" href="Documented_match_statement.html">
<link title="English" rel="Chapter" href="English.html">
<link title="Environment" rel="Chapter" href="Environment.html">
<link title="Exception_check" rel="Chapter" href="Exception_check.html">
<link title="Extended_array" rel="Chapter" href="Extended_array.html">
<link title="Extended_common" rel="Chapter" href="Extended_common.html">
<link title="Extended_exn" rel="Chapter" href="Extended_exn.html">
<link title="Extended_filename" rel="Chapter" href="Extended_filename.html">
<link title="Extended_float" rel="Chapter" href="Extended_float.html">
<link title="Extended_gc" rel="Chapter" href="Extended_gc.html">
<link title="Extended_hashtbl" rel="Chapter" href="Extended_hashtbl.html">
<link title="Extended_int" rel="Chapter" href="Extended_int.html">
<link title="Extended_int32" rel="Chapter" href="Extended_int32.html">
<link title="Extended_int63" rel="Chapter" href="Extended_int63.html">
<link title="Extended_int64" rel="Chapter" href="Extended_int64.html">
<link title="Extended_linux" rel="Chapter" href="Extended_linux.html">
<link title="Extended_list" rel="Chapter" href="Extended_list.html">
<link title="Extended_list__LCS" rel="Chapter" href="Extended_list__LCS.html">
<link title="Extended_list__multimerge" rel="Chapter" href="Extended_list__multimerge.html">
<link title="Extended_memo" rel="Chapter" href="Extended_memo.html">
<link title="Extended_monad" rel="Chapter" href="Extended_monad.html">
<link title="Extended_nativeint" rel="Chapter" href="Extended_nativeint.html">
<link title="Extended_option" rel="Chapter" href="Extended_option.html">
<link title="Extended_result" rel="Chapter" href="Extended_result.html">
<link title="Extended_sexp" rel="Chapter" href="Extended_sexp.html">
<link title="Extended_string" rel="Chapter" href="Extended_string.html">
<link title="Extended_sys" rel="Chapter" href="Extended_sys.html">
<link title="Extended_thread" rel="Chapter" href="Extended_thread.html">
<link title="Extended_time" rel="Chapter" href="Extended_time.html">
<link title="Extended_unix" rel="Chapter" href="Extended_unix.html">
<link title="Extra_fields" rel="Chapter" href="Extra_fields.html">
<link title="Fd_leak_check" rel="Chapter" href="Fd_leak_check.html">
<link title="Find" rel="Chapter" href="Find.html">
<link title="Fold_map" rel="Chapter" href="Fold_map.html">
<link title="Generic" rel="Chapter" href="Generic.html">
<link title="Invariant" rel="Chapter" href="Invariant.html">
<link title="Invocation" rel="Chapter" href="Invocation.html">
<link title="Iter" rel="Chapter" href="Iter.html">
<link title="Lazy_list" rel="Chapter" href="Lazy_list.html">
<link title="Lazy_m" rel="Chapter" href="Lazy_m.html">
<link title="Lazy_sequence" rel="Chapter" href="Lazy_sequence.html">
<link title="Linebuf" rel="Chapter" href="Linebuf.html">
<link title="List_zipper" rel="Chapter" href="List_zipper.html">
<link title="Logger" rel="Chapter" href="Logger.html">
<link title="Loggers" rel="Chapter" href="Loggers.html">
<link title="Low_level_debug" rel="Chapter" href="Low_level_debug.html">
<link title="Malloc" rel="Chapter" href="Malloc.html">
<link title="Multi_map" rel="Chapter" href="Multi_map.html">
<link title="Net_utils" rel="Chapter" href="Net_utils.html">
<link title="Number" rel="Chapter" href="Number.html">
<link title="Packed_array" rel="Chapter" href="Packed_array.html">
<link title="Packed_map" rel="Chapter" href="Packed_map.html">
<link title="Patience_diff" rel="Chapter" href="Patience_diff.html">
<link title="Posix_clock" rel="Chapter" href="Posix_clock.html">
<link title="Pp" rel="Chapter" href="Pp.html">
<link title="Printc" rel="Chapter" href="Printc.html">
<link title="Process" rel="Chapter" href="Process.html">
<link title="Procfs" rel="Chapter" href="Procfs.html">
<link title="Prod_or_test" rel="Chapter" href="Prod_or_test.html">
<link title="Random_selection" rel="Chapter" href="Random_selection.html">
<link title="Readline" rel="Chapter" href="Readline.html">
<link title="Readline__input_char" rel="Chapter" href="Readline__input_char.html">
<link title="Readline__input_loop" rel="Chapter" href="Readline__input_loop.html">
<link title="Runtime_blockout_detector" rel="Chapter" href="Runtime_blockout_detector.html">
<link title="Rw_mutex" rel="Chapter" href="Rw_mutex.html">
<link title="Sampler" rel="Chapter" href="Sampler.html">
<link title="Search_foo" rel="Chapter" href="Search_foo.html">
<link title="Selector" rel="Chapter" href="Selector.html">
<link title="Semaphore" rel="Chapter" href="Semaphore.html">
<link title="Sendmail" rel="Chapter" href="Sendmail.html">
<link title="Service_command" rel="Chapter" href="Service_command.html">
<link title="Shell" rel="Chapter" href="Shell.html">
<link title="Shell__core" rel="Chapter" href="Shell__core.html">
<link title="Shell__line_buffer" rel="Chapter" href="Shell__line_buffer.html">
<link title="Sntp" rel="Chapter" href="Sntp.html">
<link title="Splay_tree" rel="Chapter" href="Splay_tree.html">
<link title="Stats_reporting" rel="Chapter" href="Stats_reporting.html">
<link title="Std" rel="Chapter" href="Std.html">
<link title="String_zipper" rel="Chapter" href="String_zipper.html">
<link title="Syslog" rel="Chapter" href="Syslog.html">
<link title="Sys_utils" rel="Chapter" href="Sys_utils.html">
<link title="Tcp" rel="Chapter" href="Tcp.html">
<link title="Text_block" rel="Chapter" href="Text_block.html">
<link title="Time_stamp_counter" rel="Chapter" href="Time_stamp_counter.html">
<link title="Timed_function" rel="Chapter" href="Timed_function.html">
<link title="Trie" rel="Chapter" href="Trie.html">
<link title="Unix_utils" rel="Chapter" href="Unix_utils.html">
<link title="Update_queue" rel="Chapter" href="Update_queue.html"><title>Std.Procfs</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Std.Process.html" title="Std.Process">Previous</a>
&nbsp;<a class="up" href="Std.html" title="Std">Up</a>
&nbsp;<a class="post" href="Std.Prod_or_test.html" title="Std.Prod_or_test">Next</a>
</div>
<h1>Module <a href="type_Std.Procfs.html">Std.Procfs</a></h1>
<pre><span class="keyword">module</span> Procfs: <code class="type">Procfs</code></pre><hr width="100%">
<br>
Process and system stats<br>
<pre><span id="TYPEbigint"><span class="keyword">type</span> <code class="type"></code>bigint</span> = <code class="type">Core.Std.Big_int.big_int</code> </pre>

<pre><span id="VALinput_all_with_reused_buffer"><span class="keyword">val</span> input_all_with_reused_buffer</span> : <code class="type">unit -> (string -> string) <a href="../core/Staged.html">Core.Std.Staged</a>.t</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Process.html">Process</a>: <code class="code">sig</code> <a href="Procfs.Process.html">..</a> <code class="code">end</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Meminfo.html">Meminfo</a>: <code class="code">sig</code> <a href="Procfs.Meminfo.html">..</a> <code class="code">end</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Kstat.html">Kstat</a>: <code class="code">sig</code> <a href="Procfs.Kstat.html">..</a> <code class="code">end</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Loadavg.html">Loadavg</a>: <code class="code">sig</code> <a href="Procfs.Loadavg.html">..</a> <code class="code">end</code></pre><pre><span id="VALget_all_procs"><span class="keyword">val</span> get_all_procs</span> : <code class="type">unit -> <a href="Procfs.Process.html#TYPEt">Process.t</a> list</code></pre><div class="info">
<code class="code">get_all_procs</code> returns a list of all processes on the system<br>
</div>
<pre><span id="VALwith_pid_exn"><span class="keyword">val</span> with_pid_exn</span> : <code class="type"><a href="../core/Pid.html">Core.Std.Pid</a>.t -> <a href="Procfs.Process.html#TYPEt">Process.t</a></code></pre><div class="info">
<code class="code">with_pid_exn pid</code> returns a single process that matches pid, or raises Not_found<br>
</div>
<pre><span id="VALwith_pid"><span class="keyword">val</span> with_pid</span> : <code class="type"><a href="../core/Pid.html">Core.Std.Pid</a>.t -> <a href="Procfs.Process.html#TYPEt">Process.t</a> option</code></pre><div class="info">
<code class="code">with_pid pid</code> returns a single process that matches pid<br>
</div>
<pre><span id="VALwith_uid"><span class="keyword">val</span> with_uid</span> : <code class="type">int -> <a href="Procfs.Process.html#TYPEt">Process.t</a> list</code></pre><div class="info">
<code class="code">with_uid uid</code> returns all processes owned by uid<br>
</div>
<pre><span id="VALpgrep"><span class="keyword">val</span> pgrep</span> : <code class="type">(<a href="Procfs.Process.html#TYPEt">Process.t</a> -> bool) -> <a href="Procfs.Process.html#TYPEt">Process.t</a> list</code></pre><div class="info">
<code class="code">pgrep f</code> returns all processes for which f is true<br>
</div>
<pre><span id="VALpkill"><span class="keyword">val</span> pkill</span> : <code class="type">signal:<a href="../core/Signal.html">Core.Std.Signal</a>.t -><br>       (<a href="Procfs.Process.html#TYPEt">Process.t</a> -> bool) -><br>       (<a href="../core/Pid.html">Core.Std.Pid</a>.t * (unit, <a href="../core/Unix.html">Core.Std.Unix</a>.error) <a href="../core/Result.html">Core.Std.Result</a>.t) list</code></pre><div class="info">
<code class="code">pkill ~signal f</code> sends the signal to all processes for which f returns true. It
   returns the list of processes that were signaled, and the resulting errors if any.<br>
</div>
<pre><span id="VALwith_username_exn"><span class="keyword">val</span> with_username_exn</span> : <code class="type">string -> <a href="Procfs.Process.html#TYPEt">Process.t</a> list</code></pre><div class="info">
<code class="code">with_username_exn user</code> calls with_uid after looking up the user's uid<br>
</div>
<pre><span id="VALwith_username"><span class="keyword">val</span> with_username</span> : <code class="type">string -> <a href="Procfs.Process.html#TYPEt">Process.t</a> list option</code></pre><div class="info">
<code class="code">with_username user</code> calls with_uid after looking up the user's uid<br>
</div>
<pre><span id="VALjiffies_per_second_exn"><span class="keyword">val</span> jiffies_per_second_exn</span> : <code class="type">unit -> float</code></pre><div class="info">
<code class="code">jiffies_per_second_exn</code>.  A jiffy "is one tick of the system timer interrupt.  It is
    not an absolute time interval unit, since its duration depends on the clock interrupt
    frequency of the particular hardware platform."
<p>

    Further reading: https://secure.wikimedia.org/wikipedia/en/wiki/Jiffy_(time)<br>
</div>
<pre><span id="VALjiffies_per_second"><span class="keyword">val</span> jiffies_per_second</span> : <code class="type">unit -> float option</code></pre><pre><span id="VALmeminfo_exn"><span class="keyword">val</span> meminfo_exn</span> : <code class="type">unit -> <a href="Procfs.Meminfo.html#TYPEt">Meminfo.t</a></code></pre><div class="info">
<code class="code">meminfo_exn</code> queries /proc/meminfo and fills out Meminfo.t.  All values in bytes.<br>
</div>
<pre><span id="VALmeminfo"><span class="keyword">val</span> meminfo</span> : <code class="type">unit -> <a href="Procfs.Meminfo.html#TYPEt">Meminfo.t</a> option</code></pre><pre><span id="VALloadavg_exn"><span class="keyword">val</span> loadavg_exn</span> : <code class="type">unit -> <a href="Procfs.Loadavg.html#TYPEt">Loadavg.t</a></code></pre><div class="info">
<code class="code">loadavg_exn</code> parses /proc/loadavg.<br>
</div>
<pre><span id="VALloadavg"><span class="keyword">val</span> loadavg</span> : <code class="type">unit -> <a href="Procfs.Loadavg.html#TYPEt">Loadavg.t</a> option</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Net.html">Net</a>: <code class="code">sig</code> <a href="Procfs.Net.html">..</a> <code class="code">end</code></pre><pre><span class="keyword">module</span> <a href="Procfs.Mount.html">Mount</a>: <code class="code">sig</code> <a href="Procfs.Mount.html">..</a> <code class="code">end</code></pre><pre><span id="VALmounts"><span class="keyword">val</span> mounts</span> : <code class="type">unit -> <a href="Procfs.Mount.html#TYPEt">Mount.t</a> list</code></pre><pre><span id="VALmounts_of_fstab"><span class="keyword">val</span> mounts_of_fstab</span> : <code class="type">unit -> <a href="Procfs.Mount.html#TYPEt">Mount.t</a> list</code></pre><pre><span id="VALsupported_filesystems"><span class="keyword">val</span> supported_filesystems</span> : <code class="type">unit -> string list</code></pre><pre><span id="VALuptime"><span class="keyword">val</span> uptime</span> : <code class="type">unit -> <a href="../core/Time.Span.html">Core.Std.Time.Span</a>.t</code></pre><pre><span id="VALprocess_age"><span class="keyword">val</span> process_age</span> : <code class="type"><a href="Procfs.Process.html#TYPEt">Process.t</a> -> <a href="../core/Time.Span.html">Core.Std.Time.Span</a>.t option</code></pre><pre><span id="VALprocess_age'"><span class="keyword">val</span> process_age'</span> : <code class="type">jiffies_per_second:float -> <a href="Procfs.Process.html#TYPEt">Process.t</a> -> <a href="../core/Time.Span.html">Core.Std.Time.Span</a>.t</code></pre><pre><span id="VALbigint_of_sexp"><span class="keyword">val</span> bigint_of_sexp</span> : <code class="type"><a href="../sexplib/Sexp.html">Sexplib.Sexp</a>.t -> <a href="Procfs.html#TYPEbigint">bigint</a></code></pre><pre><span id="VALsexp_of_bigint"><span class="keyword">val</span> sexp_of_bigint</span> : <code class="type"><a href="Procfs.html#TYPEbigint">bigint</a> -> <a href="../sexplib/Sexp.html">Sexplib.Sexp</a>.t</code></pre><br>
The filename of the executable<br>
<br>
One  character from the string "RSDZTW"<br>
<br>
The PID of the parent.<br>
<br>
The process group ID of the process.<br>
<br>
The session ID of the process.<br>
<br>
The tty the process uses.<br>
<br>
The process group ID of the process which currently owns
                                  the tty...<br>
<br>
The kernel flags word of the process.<br>
<br>
The number of minor faults the process has made which have
                                  not required loading a memory page from disk.<br>
<br>
The number of minor faults that the process’s waited-for
                                  children have made.<br>
<br>
The number of major faults the process has made which have
                                  required loading a page from disk.<br>
<br>
The number of major faults that the process’s waited-for
                                  children have made.<br>
<br>
The number of jiffies that this process has been scheduled
                                  in user mode.<br>
<br>
The number of jiffies that this process has been scheduled
                                  in kernel mode.<br>
<br>
The number of jiffies that this process’s waited-for
                                  children have been scheduled in user mode.<br>
<br>
The number of jiffies that this process’s waited-for
                                  children have been scheduled in kernel mode.<br>
<br>
The standard nice value, plus fifteen.  The value is never
                                  negative in the kernel.<br>
<br>
The nice value ranges from 19 to -19<br>
<br>
placeholder for removed field<br>
<br>
The time in jiffies before the next SIGALRM is sent to the
                                  process due to an interval timer.<br>
<br>
The time in jiffies the process started after system boot.<br>
<br>
Virtual memory size in bytes.<br>
<br>
Resident Set Size: number of pages the process has in real
                                  memory.<br>
<br>
Current limit in bytes on the rss of the process.<br>
<br>
The address above which program text can run.<br>
<br>
The address below which program text can run.<br>
<br>
The address of the start of the stack.<br>
<br>
The current value of esp (stack pointer)<br>
<br>
The current value of eip (instruction pointer)<br>
<br>
The bitmap of pending signals.<br>
<br>
The bitmap of blocked signals.<br>
<br>
The bitmap of ignored signals.<br>
<br>
The bitmap of caught signals.<br>
<br>
This is  the "channel" in which the process is waiting.
                                  Address of a system call.<br>
<br>
(no longer maintained)<br>
<br>
(no longer maintained)<br>
<br>
Signal sent to parent when we die.<br>
<br>
CPU number last executed on.<br>
<br>
Real-time scheduling priority.<br>
<br>
Scheduling policy<br>
<br>
total program size<br>
<br>
resident set size<br>
<br>
shared pages<br>
<br>
text (code)<br>
<br>
library<br>
<br>
data/stack<br>
<br>
dirty pages (unused)<br>
<br>
Real user ID<br>
<br>
Effective user ID<br>
<br>
Saved user ID<br>
<br>
FS user ID<br>
<br>
Real group ID<br>
<br>
Effective group ID<br>
<br>
Saved group ID<br>
<br>
FS group ID<br>
<br>
File descriptor (0=stdin, 1=stdout, etc.)<br>
<br>
Kind of file<br>
<br>
Process ID<br>
<br>
Command-line (not reliable).<br>
<br>
Symlink to working directory.<br>
<br>
Process environment.<br>
<br>
Symlink to executed command.<br>
<br>
Per-process root (e.g. chroot)<br>
<br>
Per-process rlimit settings<br>
<br>
Status information.<br>
<br>
Memory status information.<br>
<br>
Some more assorted status information.<br>
<br>
Status information for each task (thread)<br>
<br>
Show what top would show for COMMAND<br>
<br>
File descriptors<br>
<br>
OOM killer niceness <code class="code">range: -17 to +15</code><br>
<br>
OOM "sacrifice" priority<br>
<br>
<code class="code">t</code> corresponds to the values in /proc/meminfo.  All values in bytes.<br>
<br>
<code class="code">t</code> corresponds to the values in /proc/loadavg.<br>
<br>
<code class="code">get_all_procs</code> returns a list of all processes on the system<br>
<br>
<code class="code">with_pid_exn pid</code> returns a single process that matches pid, or raises Not_found<br>
<br>
<code class="code">with_pid pid</code> returns a single process that matches pid<br>
<br>
<code class="code">with_uid uid</code> returns all processes owned by uid<br>
<br>
<code class="code">pgrep f</code> returns all processes for which f is true<br>
<br>
<code class="code">pkill ~signal f</code> sends the signal to all processes for which f returns true. It
   returns the list of processes that were signaled, and the resulting errors if any.<br>
<br>
<code class="code">with_username_exn user</code> calls with_uid after looking up the user's uid<br>
<br>
<code class="code">with_username user</code> calls with_uid after looking up the user's uid<br>
<br>
<code class="code">jiffies_per_second_exn</code>.  A jiffy "is one tick of the system timer interrupt.  It is
    not an absolute time interval unit, since its duration depends on the clock interrupt
    frequency of the particular hardware platform."
<p>

    Further reading: https://secure.wikimedia.org/wikipedia/en/wiki/Jiffy_(time)<br>
<br>
<code class="code">meminfo_exn</code> queries /proc/meminfo and fills out Meminfo.t.  All values in bytes.<br>
<br>
<code class="code">loadavg_exn</code> parses /proc/loadavg.<br>
<br>
/proc/net/tcp, or what netstat or lsof -i parses.<br>
<br>
These don't do any IO and should be async-ok<br>
<br>
This does IO and is not async-ok.<br>
</body></html>