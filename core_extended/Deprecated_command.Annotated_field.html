<!DOCTYPE HTML>
<html>
<head>

<title>Deprecated_command.Annotated_field</title>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type"/>
<link rel="stylesheet" href="style.css" type="text/css"/>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"> </script>
<script type="text/javascript" src="doc_loader.js"> </script>
</head>
<body>

<h1>Module Deprecated_command.Annotated_field</h1>
<pre><span class="keyword">module</span> <a href="Deprecated_command.Annotated_field.html">Annotated_field</a> : <code class="code">sig</code> <a href="Deprecated_command.Annotated_field.html">..</a> <code class="code">end</code></pre><div class="info">This module is intended to help in using pa_fields to easily generate
   Command.t's when you have a record type each field of which you would
   like specified as a command line argument.<br/>   An example is as follows:<br/><pre class="codepre"><code class="code">module M = struct
  type t = {
    field1 : int;
    field2 : float;
    field3 : bool;
    field4 : string option;
  } with fields

  module A = Annotated_field

  let ann_fields = Fields.fold ~init:[]
    ~field1:(A.required ~doc:&quot; documentation for field1&quot;)
    ~field2:(A.default 1.0 string_of_float ~doc:&quot; documentation for field2&quot;)
    ~field3:(A.set ~doc:&quot; documentation for field3&quot;)
    ~field4:(A.optional ~doc:&quot; documentation for field4&quot;)

  let command = create
    ~summary:&quot;summary&quot;
    ~init:(fun () -&gt; A.init ann_fields)
    ~usage_arg:&quot;&quot;
    ~flags:(List.map ann_fields ~f:A.to_flag)
    ~final:(fun accum _anon_args -&gt;
      let get of_string = A.get accum of_string in
      let get_opt of_string = A.get_opt accum of_string in
      Fields.map
        ~field1:(get int_of_string)
        ~field2:(get Float.of_string)
        ~field3:(get bool_of_string)
        ~field4:(get_opt ident)
    )
    ~main:(fun _ -&gt; assert false)</code></pre>
end</div>
<hr/>
<div file="Deprecated_command.Annotated_field.html.contents" class="content_to_load"> </div>
</body>
</html>