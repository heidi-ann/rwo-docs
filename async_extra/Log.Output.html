<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Log.Rotation.html">
<link rel="next" href="Log.Blocking.html">
<link rel="Up" href="Log.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="File_tail" rel="Chapter" href="File_tail.html">
<link title="File_writer" rel="Chapter" href="File_writer.html">
<link title="Import" rel="Chapter" href="Import.html">
<link title="Lock_file" rel="Chapter" href="Lock_file.html">
<link title="Log" rel="Chapter" href="Log.html">
<link title="Persistent_singleton" rel="Chapter" href="Persistent_singleton.html">
<link title="Rpc" rel="Chapter" href="Rpc.html">
<link title="Rpc_intf" rel="Chapter" href="Rpc_intf.html">
<link title="Sequencer_table" rel="Chapter" href="Sequencer_table.html">
<link title="Std" rel="Chapter" href="Std.html">
<link title="Tcp" rel="Chapter" href="Tcp.html">
<link title="Tcp_file" rel="Chapter" href="Tcp_file.html">
<link title="Typed_tcp" rel="Chapter" href="Typed_tcp.html">
<link title="Typed_tcp_intf" rel="Chapter" href="Typed_tcp_intf.html">
<link title="Unpack_sequence" rel="Chapter" href="Unpack_sequence.html">
<link title="User_and_group" rel="Chapter" href="User_and_group.html">
<link title="Versioned_rpc" rel="Chapter" href="Versioned_rpc.html">
<link title="Versioned_typed_tcp" rel="Chapter" href="Versioned_typed_tcp.html">
<link title="Weak_hashtbl" rel="Chapter" href="Weak_hashtbl.html"><title>Log.Output</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Log.Rotation.html" title="Log.Rotation">Previous</a>
&nbsp;<a class="up" href="Log.html" title="Log">Up</a>
&nbsp;<a class="post" href="Log.Blocking.html" title="Log.Blocking">Next</a>
</div>
<h1>Module <a href="type_Log.Output.html">Log.Output</a></h1>
<pre><span class="keyword">module</span> Output: <code class="code">sig</code> <a href="Log.Output.html">..</a> <code class="code">end</code></pre><hr width="100%">
<pre><span id="TYPEmachine_readable_format"><span class="keyword">type</span> <code class="type"></code>machine_readable_format</span> = <code class="type">[ `Bin_prot | `Sexp ]</code> </pre>

<pre><span id="TYPEformat"><span class="keyword">type</span> <code class="type"></code>format</span> = <code class="type">[ `Bin_prot | `Sexp | `Text ]</code> </pre>

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>

<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">(<a href="Log.Message.html#TYPEt">Log.Message.t</a> Core.Std.Queue.t -> unit Import.Deferred.t) -> <a href="Log.Output.html#TYPEt">t</a></code></pre><div class="info">
<code class="code">create f</code> returns a t, given a function that actually performs the final output
      work.  It is the responsibility of the write function to contain all state, and to
      clean up after itself when it is garbage collected (which may require a finalizer).
<p>

      The "stock" output modules support a sexp and bin_prot output format, and other
      output modules should make efforts to support them as well where it is
      meaningful/appropriate to do so.
<p>

      The unit Deferred returned by the function should not be fulfilled until the all of
      the messages in the given queue are completely handled (e.g. written to disk).<br>
</div>
<pre><span id="VALscreen"><span class="keyword">val</span> screen</span> : <code class="type"><a href="Log.Output.html#TYPEt">t</a></code></pre><pre><span id="VALwriter"><span class="keyword">val</span> writer</span> : <code class="type"><a href="Log.Output.html#TYPEformat">format</a> -> Import.Writer.t -> <a href="Log.Output.html#TYPEt">t</a></code></pre><pre><span id="VALfile"><span class="keyword">val</span> file</span> : <code class="type"><a href="Log.Output.html#TYPEformat">format</a> -> filename:string -> <a href="Log.Output.html#TYPEt">t</a></code></pre><pre><span id="VALrotating_file"><span class="keyword">val</span> rotating_file</span> : <code class="type"><a href="Log.Output.html#TYPEformat">format</a> -> basename:string -> <a href="Log.Rotation.html#TYPEt">Log.Rotation.t</a> -> <a href="Log.Output.html#TYPEt">t</a></code></pre></body></html>